<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to group05pkg • group05pkg</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to group05pkg">
<meta property="og:description" content="group05pkg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">group05pkg</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/group05-vignette.html">Introduction to group05pkg</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to group05pkg</h1>
            
      
      
      <div class="hidden name"><code>group05-vignette.Rmd</code></div>

    </div>

    
    
<p>Data analysis requires a structured approach that involves cleaning,
wrangling, modeling, and evaluating the performance of different models.
However, these tasks can be challenging, and traditional approaches of
writing large code chunks to run this kind of analysis can be
time-consuming and error-prone.</p>
<p><strong>This is where the package group05pkg comes in!</strong></p>
<p>It provides a set of easy-to-use functions that simplify the process
of running a classification analysis such as:</p>
<ul>
<li>Split your data set into train and test</li>
<li>Create the components of a classification model such as the KNN
specification, a recipe, cross-validation folds, and a grid of
hyperparameters that can be used to tune the performance of a
model.</li>
<li>Evaluate the accuracy of your model.</li>
<li>Plot histograms and scatterplots to visualize your analysis.</li>
</ul>
<p>This document introduces you to group05pkg’s basic set of tools, and
shows you how to apply them to run a classification analysis.</p>
<div class="section level2">
<h2 id="data-drug_consumption">Data: drug_consumption<a class="anchor" aria-label="anchor" href="#data-drug_consumption"></a>
</h2>
<p>To explore the package, we will be using the
<code>drug_consumption</code> data set. This data set has
<code>1884 rows</code> and <code>32 columns</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">url</span> <span class="op">&lt;-</span><span class="st">"https://archive.ics.uci.edu/ml/machine-learning-databases/00373/drug_consumption.data"</span></span>
<span><span class="va">drug_consumption</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="va">url</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">drug_consumption</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"ID"</span>, <span class="st">"Age"</span>, <span class="st">"Gender"</span>, <span class="st">"Education"</span>, <span class="st">"Country"</span>, <span class="st">"Ethnicity"</span>,</span>
<span>  <span class="st">"Nscore"</span>, <span class="st">"Escore"</span>, <span class="st">"Oscore"</span>, <span class="st">"Ascore"</span>, <span class="st">"Cscore"</span>,</span>
<span>  <span class="st">"Impulsive"</span>, <span class="st">"SS"</span>, <span class="st">"Alcohol"</span>, <span class="st">"Amphet"</span>, <span class="st">"Amyl"</span>, <span class="st">"Benzos"</span>,</span>
<span>  <span class="st">"Caff"</span>, <span class="st">"Cannabis"</span>, <span class="st">"Choc"</span>, <span class="st">"Coke"</span>, <span class="st">"Crack"</span>, <span class="st">"Ecstasy"</span>,</span>
<span>  <span class="st">"Heroin"</span>, <span class="st">"Ketamine"</span>, <span class="st">"Legalh"</span>, <span class="st">"LSD"</span>, <span class="st">"Meth"</span>, <span class="st">"Mushrooms"</span>,</span>
<span>  <span class="st">"Nicotine"</span>, <span class="st">"Semer"</span>, <span class="st">"VSA"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">drug_consumption</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 32</span></span></span>
<span><span class="co">#&gt;      ID     Age Gender Education Country Ethnicity Nscore Escore  Oscore Ascore</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     2 -<span style="color: #BB0000;">0.078</span><span style="color: #BB0000; text-decoration: underline;">5</span> -<span style="color: #BB0000;">0.482</span>    1.98     0.961    -<span style="color: #BB0000;">0.317</span> -<span style="color: #BB0000;">0.678</span>  1.94   1.44    0.761</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     3  0.498  -<span style="color: #BB0000;">0.482</span>   -<span style="color: #BB0000;">0.059</span><span style="color: #BB0000; text-decoration: underline;">2</span>   0.961    -<span style="color: #BB0000;">0.317</span> -<span style="color: #BB0000;">0.467</span>  0.805 -<span style="color: #BB0000;">0.847</span>  -<span style="color: #BB0000;">1.62</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     4 -<span style="color: #BB0000;">0.952</span>   0.482    1.16     0.961    -<span style="color: #BB0000;">0.317</span> -<span style="color: #BB0000;">0.149</span> -<span style="color: #BB0000;">0.806</span> -<span style="color: #BB0000;">0.019</span><span style="color: #BB0000; text-decoration: underline;">3</span>  0.590</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     5  0.498   0.482    1.98     0.961    -<span style="color: #BB0000;">0.317</span>  0.735 -<span style="color: #BB0000;">1.63</span>  -<span style="color: #BB0000;">0.452</span>  -<span style="color: #BB0000;">0.302</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     6  2.59    0.482   -<span style="color: #BB0000;">1.23</span>     0.249    -<span style="color: #BB0000;">0.317</span> -<span style="color: #BB0000;">0.678</span> -<span style="color: #BB0000;">0.300</span> -<span style="color: #BB0000;">1.56</span>    2.04 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>     7  1.09   -<span style="color: #BB0000;">0.482</span>    1.16    -<span style="color: #BB0000;">0.570</span>    -<span style="color: #BB0000;">0.317</span> -<span style="color: #BB0000;">0.467</span> -<span style="color: #BB0000;">1.09</span>  -<span style="color: #BB0000;">0.452</span>  -<span style="color: #BB0000;">0.302</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 22 more variables: Cscore &lt;dbl&gt;, Impulsive &lt;dbl&gt;, SS &lt;dbl&gt;, Alcohol &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   Amphet &lt;chr&gt;, Amyl &lt;chr&gt;, Benzos &lt;chr&gt;, Caff &lt;chr&gt;, Cannabis &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   Choc &lt;chr&gt;, Coke &lt;chr&gt;, Crack &lt;chr&gt;, Ecstasy &lt;chr&gt;, Heroin &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   Ketamine &lt;chr&gt;, Legalh &lt;chr&gt;, LSD &lt;chr&gt;, Meth &lt;chr&gt;, Mushrooms &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   Nicotine &lt;chr&gt;, Semer &lt;chr&gt;, VSA &lt;chr&gt;</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a>
</h2>
<p>We can break down our functions into 3 different groups:</p>
<ul>
<li>EDA</li>
<li>Classification Models</li>
<li>Visualizations</li>
</ul>
<div class="section level3">
<h3 id="eda">EDA<a class="anchor" aria-label="anchor" href="#eda"></a>
</h3>
<div class="section level4">
<h4 id="split-the-dataset-into-training-and-testing-sets">1. Split the dataset into training and testing sets<a class="anchor" aria-label="anchor" href="#split-the-dataset-into-training-and-testing-sets"></a>
</h4>
<p>The <code><a href="../reference/split_dataset.html">split_dataset()</a></code> is a function that splits a data set
into training and test sets. The function takes in a data set, a strata
variable, and a predictor variable as inputs and performs a stratified
random split of the data set into training and testing subsets.</p>
<p>The data_set argument is a data frame containing the original data
that will be split into training and testing sets. The strata_variable
argument is a string specifying the variable in data_set that will be
used as a stratification variable for the split. <code>predictor</code>
is a string that indicates the variable in the data_set that is going to
be considered as the predictor variable.</p>
<p>The function returns a list that contains the training set and
testing set.</p>
<p>For example, we can use <code><a href="../reference/split_dataset.html">split_dataset()</a></code> function by
providing data_set = drug_consumption, strata_variable = “Cannabis” and
predictor = “Nicotine”. This will split our
<code>drug_consumption</code> into train and test sets.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">split_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/split_dataset.html">split_dataset</a></span><span class="op">(</span><span class="va">drug_consumption</span>, <span class="st">"Cannabis"</span>, <span class="st">"Nicotine"</span><span class="op">)</span></span>
<span><span class="va">train_data</span> <span class="op">&lt;-</span> <span class="va">split_data</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">test_data</span><span class="op">&lt;-</span> <span class="va">split_data</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="clean-and-wrangle-data">2. Clean and wrangle data<a class="anchor" aria-label="anchor" href="#clean-and-wrangle-data"></a>
</h4>
<p>The <code><a href="../reference/wrangle_training_data.html">wrangle_training_data()</a></code> function takes in a training
data set, a predictor variable, a strata variable, and group labels as
inputs, and returns a data frame with 4 columns that are named as
“predictor”, “strata_variable”, “n”, and “label”.</p>
<p>The function groups the training data by the predictor and strata
variable, summarizes the number of observations in each group, and
lastly adds a label column with group labels that are defined by the
user.</p>
<p>The training_data argument is a data frame that contains the training
data that is going to be wrangled and cleaned. The predictor argument is
a string or that specifies the variable in the training data that is
gonna be used as the predictor variable. The strata_variable parameter
is a string that specifies the variable in the training data to be used
as the stratification variable.<code>group_labels</code> is a strings to
be used as labels for the groups in the resulting data frame.</p>
<p>For example we can use <code><a href="../reference/wrangle_training_data.html">wrangle_training_data()</a></code> function
by providing training_data = train_data, strata_variable = “Cannabis”
and predictor = “Nicotine” and group_labels = labels where labels is
defined as
<code>c("Neither", "Cannabis only", "Nicotine only", "Both")</code>.</p>
<p>As a result, the function will return a data frame with four columns:
predictor, strata_variable, n, label.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Neither"</span>, <span class="st">"Cannabis only"</span>, <span class="st">"Nicotine only"</span>, <span class="st">"Both"</span><span class="op">)</span></span>
<span><span class="va">cannabis_and_nicotine</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/wrangle_training_data.html">wrangle_training_data</a></span><span class="op">(</span></span>
<span>  <span class="va">train_data</span>,</span>
<span>  <span class="va">Nicotine</span>, </span>
<span>  <span class="va">Cannabis</span>,</span>
<span>  <span class="va">labels</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="classification-models">Classification Models<a class="anchor" aria-label="anchor" href="#classification-models"></a>
</h3>
<div class="section level4">
<h4 id="create-knn-specification-with-create_knn_spec">1. Create knn specification with <code>create_knn_spec()</code><a class="anchor" aria-label="anchor" href="#create-knn-specification-with-create_knn_spec"></a>
</h4>
<p><code><a href="../reference/create_knn_spec.html">create_knn_spec()</a></code> is a function that creates a
specification object for k-nearest neighbor (KNN) models. The function
takes one argument, weight_func, which is a string that specifies the
weight function to use in the model.</p>
<p>The function creates a specification object using the
<code>nearest_neighbor()</code> function from the <code>parsnip</code>
package. The weight_func argument is used to set the weight function in
the specification object.</p>
<p>The neighbors parameter is set as a tuning parameter using the
<code>tune()</code> function. This means that the number of neighbors
will be selected based on the best performance during model
training.</p>
<p>The specification object is then set to use the kknn engine and set
to classification mode. Finally, the function returns the specification
object.</p>
<p>To use the <code><a href="../reference/create_knn_spec.html">create_knn_spec()</a></code> function, you simply
provide a string for the weight_func argument. For example, to create a
specification object with a weight function of “rectangular”, you can
use the following code:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">drugs_knn_spec</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_knn_spec.html">create_knn_spec</a></span><span class="op">(</span><span class="st">"rectangular"</span><span class="op">)</span></span>
<span><span class="va">drugs_knn_spec</span></span>
<span><span class="co">#&gt; K-Nearest Neighbor Model Specification (classification)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Main Arguments:</span></span>
<span><span class="co">#&gt;   neighbors = tune()</span></span>
<span><span class="co">#&gt;   weight_func = weight_func</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computational engine: kknn</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="create-knn-specification-with-create_recipe">2. Create knn specification with <code>create_recipe()</code><a class="anchor" aria-label="anchor" href="#create-knn-specification-with-create_recipe"></a>
</h4>
<p><code><a href="../reference/create_recipe.html">create_recipe()</a></code> is a function that creates a recipe
object for use in a modeling workflow. The function takes two arguments:
data, a dataframe containing the data, and response_var, a string that
specifies the name of the response variable.</p>
<p>The function creates a recipe object using the <code>recipe()</code>
function from the <code>recipes</code> package. The
<code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">as.formula()</a></code> function is used to create a formula where the
response variable is specified as the response_var argument, and all
other columns in the input dataframe are used as predictors.</p>
<p>The recipe object includes two steps: scaling and centering the
predictor variables.These steps are added to the recipe object using the
<code>step_scale()</code> and <code>step_center()</code> functions from
the <code>recipes</code> package. Finally, the function returns the
recipe object, which can be used in a modeling workflow.</p>
<p>To use the <code><a href="../reference/create_recipe.html">create_recipe()</a></code> function, you need to provide
a dataframe for the data argument and a string for the response_var
argument. For example, to create a recipe object for the
drug_consumption dataframe with the response variable set to “Cannabis”,
you can use the following code:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">drugs_recipe</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_recipe.html">create_recipe</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">train_data</span>, response_var <span class="op">=</span> <span class="st">"Cannabis"</span><span class="op">)</span></span>
<span><span class="va">drugs_recipe</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="create-vfold-with-create_vfold">3. Create vfold with <code>create_vfold()</code><a class="anchor" aria-label="anchor" href="#create-vfold-with-create_vfold"></a>
</h4>
<p><code><a href="../reference/create_vfold.html">create_vfold()</a></code> is a function that creates a v-fold
cross-validation object for use in a modeling workflow. The function
takes three arguments: data, which is a dataframe containing the data,
v, which is an integer specifying the number of folds, and strata, which
specifies the name of the strata variable for stratified sampling.</p>
<p>The function creates a v-fold cross-validation object using the
<code>vfold_cv()</code> function from the <code>rsample</code> package.
The data and v arguments are passed to <code>vfold_cv()</code>, and the
strata argument is used for stratified sampling if provided. The
function then returns the v-fold cross-validation object.</p>
<p>For example, if you wanted to create a v-fold cross-validation object
with 5 folds and stratified by the “Cannabis” variable, you can use the
following code:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">drugs_vfold</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_vfold.html">create_vfold</a></span><span class="op">(</span><span class="va">train_data</span>, <span class="fl">5</span>, <span class="st">"Cannabis"</span><span class="op">)</span></span>
<span><span class="va">drugs_vfold</span></span>
<span><span class="co">#&gt; #  5-fold cross-validation using stratification </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 2</span></span></span>
<span><span class="co">#&gt;   splits             id   </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> <span style="color: #949494;">&lt;split [1129/283]&gt;</span> Fold1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> <span style="color: #949494;">&lt;split [1129/283]&gt;</span> Fold2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> <span style="color: #949494;">&lt;split [1129/283]&gt;</span> Fold3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> <span style="color: #949494;">&lt;split [1130/282]&gt;</span> Fold4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> <span style="color: #949494;">&lt;split [1131/281]&gt;</span> Fold5</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="create-grid-with-create_grid">4. Create grid with <code>create_grid()</code><a class="anchor" aria-label="anchor" href="#create-grid-with-create_grid"></a>
</h4>
<p><code><a href="../reference/create_grid.html">create_grid()</a></code> is a function that generates a grid of
values to tune over for the number of nearest neighbors in the k-nearest
neighbor classification model. It takes two arguments: min_neighbors,
which is an integer specifying the minimum number of neighbors to
include in the grid, and max_neighbors, which is an integer specifying
the maximum number of neighbors to include in the grid.</p>
<p>The function then creates a tibble containing a sequence of integers
ranging from the specified min_neighbors to max_neighbors, inclusive.
The tibble contains a single column named “neighbors” which represents
the number of neighbors to use in the k-nearest neighbor model. Finally,
the function returns the tibble.</p>
<p>For example, if you wanted to generate a grid of values to tune over
for the number of nearest neighbors in the k-nearest neighbor
classification model, where the minimum number of neighbors is 1 and the
maximum number of neighbors is 30, you can use the following code:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">drugs_grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_grid.html">create_grid</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">30</span><span class="op">)</span></span>
<span><span class="va">drugs_grid</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 30 × 1</span></span></span>
<span><span class="co">#&gt;    neighbors</span></span>
<span><span class="co">#&gt;        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>         1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>         2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>         3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>         4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>         5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>         6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>         7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>         8</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>         9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>        10</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 20 more rows</span></span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="predict-accuracy-of-workflow-with-predict_drugs_workflow">5. Predict Accuracy of Workflow with
<code>predict_drugs_workflow</code><a class="anchor" aria-label="anchor" href="#predict-accuracy-of-workflow-with-predict_drugs_workflow"></a>
</h4>
<p><code><a href="../reference/predict_drugs_workflow.html">predict_drugs_workflow()</a></code> is a function that predicts the
outcome of a target variable for new test data given a fitted KNN
workflow object.The function takes two arguments: knn_wf, which is a
fitted KNN workflow object, and test_data, which is a data frame
containing new test data to predict the outcome of cannabis usage.</p>
<p>The function uses the <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> function from the
<code>stats</code> package to predict the outcome of the strata variable
on new test data using the KNN model in knn_wf. The predicted outcome is
then combined with the original test data using
the<code>bind_cols()</code> function from the <code>dplyr</code> package
to create a new data frame containing the predicted outcome.</p>
<p>Finally, the function returns the new data frame containing the
predicted outcome of the strata variable for the new test data.
Additionally, the predicted outcome is written to the data folder.</p>
<p>For example, if you had a fitted KNN workflow object called
drugs_real_workflow and a data frame of new test data called test_data,
you could use the following code to predict the outcome of cannabis
usage for the new test data and write the predicted outcome to the data
folder:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">drugs_pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/predict_drugs_workflow.html">predict_drugs_workflow</a></span><span class="op">(</span><span class="va">drugs_real_workflow</span>, <span class="va">test_data</span><span class="op">)</span></span>
<span><span class="va">drugs_pred</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 472 × 9</span></span></span>
<span><span class="co">#&gt;    .pred_class     Age Gender  Nscore Escore Oscore Ascore Nicotine Cannabis</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> no           0.498  -<span style="color: #BB0000;">0.482</span> -<span style="color: #BB0000;">0.467</span>   0.805 -<span style="color: #BB0000;">0.847</span> -<span style="color: #BB0000;">1.62</span>         0 yes     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> no           2.59    0.482 -<span style="color: #BB0000;">0.678</span>  -<span style="color: #BB0000;">0.300</span> -<span style="color: #BB0000;">1.56</span>   2.04         1 no      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> no          -<span style="color: #BB0000;">0.078</span><span style="color: #BB0000; text-decoration: underline;">5</span>  0.482 -<span style="color: #BB0000;">1.05</span>    0.805 -<span style="color: #BB0000;">1.12</span>  -<span style="color: #BB0000;">0.761</span>        0 no      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> yes          1.82    0.482  2.29    0.168  0.446 -<span style="color: #BB0000;">1.62</span>         1 yes     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> no           0.498  -<span style="color: #BB0000;">0.482</span> -<span style="color: #BB0000;">0.348</span>  -<span style="color: #BB0000;">1.76</span>  -<span style="color: #BB0000;">2.40</span>  -<span style="color: #BB0000;">1.93</span>         0 no      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> no           1.09   -<span style="color: #BB0000;">0.482</span>  1.60   -<span style="color: #BB0000;">3.27</span>  -<span style="color: #BB0000;">1.28</span>   0.288        1 no      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> yes          1.82   -<span style="color: #BB0000;">0.482</span> -<span style="color: #BB0000;">0.149</span>   0.638  1.24   0.761        1 no      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> no           1.82    0.482 -<span style="color: #BB0000;">0.051</span><span style="color: #BB0000; text-decoration: underline;">9</span> -<span style="color: #BB0000;">1.63</span>  -<span style="color: #BB0000;">3.27</span>  -<span style="color: #BB0000;">0.761</span>        1 no      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> no           0.498   0.482  0.042<span style="text-decoration: underline;">6</span> -<span style="color: #BB0000;">1.51</span>  -<span style="color: #BB0000;">0.717</span>  0.288        0 no      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> no           0.498   0.482 -<span style="color: #BB0000;">1.19</span>   -<span style="color: #BB0000;">0.806</span>  0.141 -<span style="color: #BB0000;">0.606</span>        0 no      </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 462 more rows</span></span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="visualizations">Visualizations<a class="anchor" aria-label="anchor" href="#visualizations"></a>
</h3>
<div class="section level4">
<h4 id="build-a-horizontal-histogram-with-horizontal_hist">1. Build a horizontal histogram with
<code>horizontal_hist()</code><a class="anchor" aria-label="anchor" href="#build-a-horizontal-histogram-with-horizontal_hist"></a>
</h4>
<p><code><a href="../reference/horizontal_hist.html">horizontal_hist()</a></code> is a function that creates a
horizontal bar plot from the data frame that is given as input. It takes
the specified variables as inputs and then it creates a histogram with
the given plot title, x-axis label, and y-axis label. The plot width and
height can also be changed according to user preference.</p>
<p>The data argument is the input data frame to be plotted x_var
argument is the name of the variable to be plotted on the x-axis, y_var
the name of the variable to be plotted on the y-axis, x_label is the
label for the x-axis, y_label is the label for the y-axis, plot_title is
the title for the plot, <code>plot_width</code> is the width of the plot
and<code>plot_height</code> is the height of the plot.</p>
<p>For example, we can use <code><a href="../reference/horizontal_hist.html">horizontal_hist()</a></code> function by
providing data = cannabis_and_nicotine, x_var = n, y_var = labels,
x_label =“Amount of Participants”, y_label = “Labels”, plot_title =
“Nicotine usage vs Cannabis usage”, plot_width = 10, and plot_height =
5. This will create a horizontal histogram as it can be seen below.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/horizontal_hist.html">horizontal_hist</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">cannabis_and_nicotine</span>, </span>
<span>                x_var <span class="op">=</span> <span class="va">n</span>, </span>
<span>                y_var <span class="op">=</span> <span class="va">labels</span>, </span>
<span>                x_label <span class="op">=</span> <span class="st">"Amount of Participants"</span>, </span>
<span>                y_label <span class="op">=</span> <span class="st">"Labels"</span>, </span>
<span>                plot_title <span class="op">=</span> <span class="st">"Nicotine usage vs Cannabis usage"</span>, </span>
<span>                plot_width <span class="op">=</span> <span class="fl">10</span>, </span>
<span>                plot_height <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<p><img src="group05-vignette_files/figure-html/horizontal_hist-1.png" width="600" height="200" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="build-a-scatter-plot-with-scatterplot">2. Build a scatter plot with <code>scatterplot()</code><a class="anchor" aria-label="anchor" href="#build-a-scatter-plot-with-scatterplot"></a>
</h4>
<p><code><a href="../reference/scatterplot.html">scatterplot()</a></code> is a function that takes the specified
variables as inputs and then it creates a histogram with the given plot
title, x-axis label, y-axis label and color legend label. The plot width
and height can also be changed according to user preference.</p>
<p>The data argument is the input data frame to be plotted, x_var
argument is the name of the variable to be plotted on the x-axis, y_var
argument is the name of the variable to be plotted on the y-axis,
color_var argument is the name of the variable to be used for color
coding, x_label argument is the label for the x-axis, y_label argument
is the label for the y-axis, color_label argument is the label for the
color legend, plot_title argument is the title for the plot,
<code>plot_width</code> argument is the width of the plot, plot_height
argument is the height of the plot.</p>
<p>For example, we can use <code><a href="../reference/scatterplot.html">scatterplot()</a></code> function by
providing data = example_data (it is hidden in the code for this
example), x_var = Oscore, y_var = rate, color_var = Nicotine, x_label =
“Openness”, y_label = “Percentage of People Who Use
Cannabis”,color_label = “Use Nicotine” , plot_title = “Openness
vs. Cannabis use”, plot_width = 9, and plot_height = 7. This will create
a scatterplot as it can be seen below.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/scatterplot.html">scatterplot</a></span><span class="op">(</span><span class="va">example_data</span>, <span class="va">Oscore</span>, <span class="va">rate</span>, <span class="va">Nicotine</span>, <span class="st">"Openness"</span>, <span class="st">"Percentage of People Who Use Cannabis"</span>, </span>
<span><span class="st">"Use Nicotine"</span>, <span class="st">"Openness vs. Cannabis use"</span>, plot_width <span class="op">=</span> <span class="fl">9</span>, plot_height <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span></code></pre></div>
<p><img src="group05-vignette_files/figure-html/scatterplot-1.png" width="500" height="600" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="build-a-plot-to-help-understand-the-accuracies-with-accuracy_plot">3. Build a plot to help understand the accuracies with
<code>accuracy_plot()</code><a class="anchor" aria-label="anchor" href="#build-a-plot-to-help-understand-the-accuracies-with-accuracy_plot"></a>
</h4>
<p><code><a href="../reference/accuracy_plot.html">accuracy_plot()</a></code> is a function that builds a line plot to
help understand the accuracies of a KNN model with different numbers of
neighbors. The function takes four arguments: workflow_data, which is a
data frame containing the KNN workflow data and accuracies, x_label,
which is the name given to the x axis, y_label, which is the name given
to the y axis, and plot_title, which is the name given to the entire
graph.</p>
<p>The function first filters the workflow_data for the accuracy metric,
selecting only the rows that correspond to the accuracy values for the
different numbers of neighbors.</p>
<p>Next, the function builds the line plot using ggplot() from the
ggplot2 package.The x-axis represents the number of neighbors and the
y-axis represents the mean accuracy. The plot includes points and a line
connecting them.</p>
<p>The function uses <code>labs()</code> to set the x and y axis labels
and the title of the plot using the x_label, y_label, and plot_title
arguments, respectively. The function also sets the size of the text
elements in the plot using <code>theme()</code>.</p>
<p>Finally, the function returns the line plot as an object of class
ggplot.The size of the plot is set using the <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code>
function.</p>
<p>For example, if you had a KNN workflow data called drugs_workflow,
you could use the following code to build a line plot depicting the
relationship between the number of neighbors and the accuracy of the
estimates and label the axes and the plot with the given labels:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">acc_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/accuracy_plot.html">accuracy_plot</a></span><span class="op">(</span><span class="va">drugs_workflow</span>,</span>
<span>  x_label <span class="op">=</span> <span class="st">"Number of Neighbors"</span>,</span>
<span>  y_label <span class="op">=</span> <span class="st">"Accuracy Estimate"</span>,</span>
<span>  plot_title <span class="op">=</span> <span class="st">"Neighbors vs. Accuracy"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">acc_plot</span></span></code></pre></div>
<p><img src="group05-vignette_files/figure-html/acc_plot-1.png" width="700" height="200" style="display: block; margin: auto auto auto 0;"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Angela Machado, Dalia Ahmad, Ece Celik, Rithika Nair.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
